<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Turtle Templates - ARC RDF Classes for PHP</title>
    <style type="text/css" media="all">
     @import url("/code/trice/trice.css?d=3");
     @import url("/themes/arc_2007/theme.css?d=3");
    </style>
    
    <script type="text/javascript" src="/code/trice/wiki/wiki.js?d=3"></script>
    <script type="text/javascript" src="/code/trice/stats/stats.js?d=3"></script>
    <script type="text/javascript" src="/themes/arc_2007/theme.js?d=3"></script>
    <script type="text/javascript" src="/code/trice/dom.js?d=3"></script>
    <script type="text/javascript" src="/code/trice/trice.js?d=3"></script>
    <script type="text/javascript">
      <!--
      var root_path = '/';
      var request_method = 'get';
      //-->
    </script>
  </head>
  <body>
    <div class="page">

  <div class="sysnavbar">
    <ul><li><a href="/login">log in</a></li><li><a href="/imprint">imprint</a></li></ul>  </div>
  
  <div class="applogo">
    <a href="/"><img src="/themes/arc_2007/logo.gif" alt="ARC" /></a>
  </div>

  <div class="header">

    <div class="topnavbar">
      <ul><li><a href="/home">Home</a></li><li><a href="/features">Features</a></li><li><a href="/docs">Documentation</a></li><li><a href="/community">Community</a></li><li><a href="/download">Download</a></li><li><a href="/dev">Development</a></li><li><a href="/sites">Sites</a></li></ul>
    </div>
  
  </div>

  <div class="canvas">
    <div class="title"><h1>Turtle Templates</h1></div>
    <div class="content">
      
      <div  class="w65 fl">
        ARC's Turtle Parser was derived from the SPARQL grammar parser. As a handy side-effect, it now supports variables in triple patterns. This functionality can be used to dynamically generate RDF graphs via template-like Turtle documents and value arrays that can be created separately, e.g. via submitted forms:<br />

      <div class="code w95"><pre class="code">$template = '
  ?res a rss:item ;
     dc:title ?title ;
     rss:link ?link ;
     dc:creator ?creator ;
     rss:description ?description ;
     dc:date ?now .
';
$vals = $_POST;
$vals['link'] = $vals['res'];
$vals['now'] = date('Y-m-d', time());

$obj = ARC2::getComponent('Class'); /* any component will do */
$index = $obj-&gt;getFilledTemplate($template, $vals);
$turtle = $obj-&gt;toTurtle($index);</pre></div>
    

ARC auto-detects the different value types and creates triples accordingly. If the type is not obvious (e.g. the rss:link URL values are usually serialized as literals), a typing hint can be passed with the value array:<br />

      <div class="code w95"><pre class="code">$vals['link type'] = 'literal'; /* space + &quot;type&quot; */</pre></div>
    
      </div>
    


      <div  class="w30 fr">
        

      <div class="box">
        <h3><a href="/docs">Documentation</a> (<a href="/docs/misc">misc.</a>)</h3>
<ul><li><a href="/docs/v2/misc/sparql_parsing">Stand-alone SPARQL Parsing</a></li><li><a href="/docs/v2/misc/turtle_templates">Turtle Templates</a></li><li><a href="/docs/v2/misc/writing_plugins">How to write plugins for ARC2</a></li><li><a href="/docs/v2/misc/writing_triggers">How to write triggers for ARC</a></li></ul>


      </div>
    
      </div>
          <div class="clb"></div>
    </div>
  </div>
  
  <div class="footer">
    <p>Last modified: 2007-11-28 14:23:16 UTC</p><p>Powered by <a href="http://trice.semsol.org/" title="Version: 2007-11-13">Trice</a> Wiki Module</p>  </div>
    
</div>

  </body>
</html>